<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        background-color: #222327;
      }
    </style>
  </head>
  <body>
    <main class="flex flex-col gap-16 items-center justify-center p-4 md:p-0 w-screen h-screen">
      <img src="commonplace.png" alt="Commonplace Cooperative" class="w-3/4 md:w-2/5" />
      <div class="bg-zinc-700 overflow-hidden w-full md:w-2/5 rounded-md shadow-lg text-lg text-white">
        <div class="p-8">
          <p class="mb-4">Our cornerstone project is coming soon: <strong>a social media platform built to help local people</strong> to support one another &#38; improve their shared community.</p>
          <p>We&#8217;re improving on technology pioneered by social networks, crowdfunding platforms, and local forums. <strong>But it&#8217;s not a tech company&#8212;it&#8217;s a platform cooperative, and if you&#8217;re on it, you own it.</strong></p>
        </div>
        <div class="text-center border-t border-zinc-900">
          <a class="py-4 w-full h-full block font-semibold text-xl hover:bg-zinc-600 active:bg-zinc-800" href="https://opencollective.com/commonplace" target="_blank">
            Learn More!
          </a>
        </div>
        <!--Email list contact form-->
        <div class="text-center border-t border-zinc-900" id="email-container"> 
          <p class="pt-4 text-xl font-semibold">Join Our Email List!</p>
          <form
            class="p-5 flex flex-col"
            method="POST"
            action="https://script.google.com/macros/s/AKfycbyX3gWcNAN3XcjfSzGQ-AG0Z45QcbL-pttB_8-ItoBmjHuvhBsexoERe5RmVKPfYw2a/exec">
            <label class="block text-lg font-bold">Email:</label>
            <input class="mt-2 mb-2 py-1 px-2 border rounded text-slate-900" name="Email" type="email" placeholder="myemail@email.com" required>
            <label class="block text-lg font-bold">Name:</label>
            <input class="mt-2 mb-6 py-1 px-2 border rounded text-slate-900" name="Name" type="text" placeholder="Name" required>
            <button class="bg-transparent hover:bg-zinc-600 text-white font-semibold hover:text-white py-2 px-4 border border-slate-500 hover:border-transparent rounded" type="submit">Send</button>
          </form>
        </div>
      </div>
    </main>
    <script>
      document.querySelector('form').addEventListener('submit', function(e) {
        e.preventDefault();

        const formData = new FormData(this);

        fetch(this.action, {
          method: 'POST', 
          body: formData
        })
        .then(response => response.json())
        .then(data => {
          console.log('Email info successfully submitted');
          const successMessage = document.createElement('p');
          successMessage.innerText = "Email submitted!";
          successMessage.className = 'bg-zinc-700 text-lg text-white';

          const container = document.getElementById('email-container');
          container.appendChild(successMessage);

          document.querySelector('form').reset();

          setTimeout(() => {
            successMessage.remove();
          }, 6000);

          document.querySelector('form').reset();
        })
        .catch(error => console.error('Error:', error));
      });

    </script>
  </body>
</html>
